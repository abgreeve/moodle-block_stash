{"version":3,"file":"items-getter.min.js","sources":["../../../src/local/datasources/items-getter.js"],"sourcesContent":["import Ajax from 'core/ajax';\n\nlet Items = [];\n\nexport const getItems = async (courseid) => {\n    if (Items.length === 0) {\n        Items = await getItemsData(courseid);\n    } else {\n        window.console.log('cached version');\n    }\n    return Items;\n};\n\nexport const getIndexedItems = async (courseid) => {\n\n    let itemobject = [];\n    let itemdata = await getItems(courseid);\n    itemdata.items.forEach((item) => {\n        itemobject[item.id] = item;\n    });\n    return itemobject;\n\n};\n\n// TODO implement this?\n// export const addItem = () => {\n\n// };\n\nexport const resetCache = () => {\n    Items = [];\n};\n\nconst getItemsData = (courseid) => Ajax.call([{\n    methodname: 'block_stash_get_items',\n    args: {courseid: courseid}\n}])[0];\n"],"names":["e","_ajax","__esModule","default","Items","getItems","async","length","getItemsData","courseid","window","console","log","_exports","getIndexedItems","itemobject","items","forEach","item","id","resetCache","Ajax","call","methodname","args"],"mappings":"qGAA6B,IAAAA,gIAA7BC,OAA6BD,EAA7BC,QAA6BD,EAAAE,WAAAF,GAAAG,QAAAH,GAE7B,IAAII,MAAQ,GAEL,MAAMC,SAAWC,iBACC,IAAjBF,MAAMG,OACNH,YAAcI,aAAaC,UAE3BC,OAAOC,QAAQC,IAAI,kBAEhBR,OACTS,SAAAR,SAAAA,SAWAQ,SAAAC,gBAT6BR,iBAE3B,IAAIS,WAAa,GAKjB,aAJqBV,SAASI,WACrBO,MAAMC,QAASC,OACpBH,WAAWG,KAAKC,IAAMD,OAEnBH,YAWTF,SAAAO,WAFwBA,KACtBhB,MAAQ,IAGZ,MAAMI,aAAgBC,UAAaY,cAAKC,KAAK,CAAC,CAC1CC,WAAY,wBACZC,KAAM,CAACf,SAAUA,aACjB,EAAG"}