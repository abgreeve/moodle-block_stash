define("block_stash/trade-selector",["exports","block_stash/trade-item-dialogue","block_stash/counselor"],(function(_exports,_tradeItemDialogue,_counselor){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Add items to a trade table.
   *
   * @copyright 2023 Adrian Greeve <adriangreeve.com>
   * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_tradeItemDialogue=_interopRequireDefault(_tradeItemDialogue),_counselor=_interopRequireDefault(_counselor);_exports.init=()=>{registerActions();let courseid=document.querySelector('input[name="courseid"]').value,title=document.querySelector('.additem[data-type="gain"]').getAttribute("title"),additemelements=document.getElementsByClassName("additem");for(let additem of additemelements)additem.addEventListener("click",(e=>{let node=e.currentTarget,dialogue=new _tradeItemDialogue.default(courseid,node.dataset.type,title,"");e.preventDefault(),dialogue.show(e),_counselor.default.on("item-save",(()=>{dialogue.close(),registerActions()}))}))};const registerActions=()=>{let deleteelements=document.getElementsByClassName("block-stash-delete-item");for(let delement of deleteelements)delement.addEventListener("click",deleteItem)},deleteItem=element=>{element.currentTarget.closest(".block-stash-trade-item").remove(),element.preventDefault()}}));

//# sourceMappingURL=trade-selector.min.js.map